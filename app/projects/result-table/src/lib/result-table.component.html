<div class="bgwhite">
    <ng-container>
        <table mat-table [dataSource]="data$" class="mat-elevation-z8" [trackBy]="trackById">

            <ng-container *ngFor="let column of columns" [matColumnDef]="column">
                <th mat-header-cell *matHeaderCellDef="let row"> {{ header(column) }} </th>
                <td mat-cell *matCellDef="let row" [attr.data-label]="header(column)">
                    <lib-advanced-types [advancedType]="(row[column]?.type !== undefined)? row[column] : {type: advancedTypes.TEXT, text: row[column]}"></lib-advanced-types>
                </td>
            </ng-container>
            <ng-container matColumnDef="noResult">
                <td mat-footer-cell *matFooterCellDef [attr.colspan]="columns.length"><lib-shimmer [style.height.px]="50"></lib-shimmer></td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="columns"></tr>
            <tr mat-row *matRowDef="let row; columns: columns;"></tr>

            <ng-container *ngFor="let dummy of ' '.repeat(5).split(''), let x = index">
                <tr mat-footer-row *matFooterRowDef="['noResult']" [hidden]="!(isLoading$ | async)"></tr>
            </ng-container>
           
        </table>
    </ng-container>
</div>